(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{233:function(e,t,s){},487:function(e,t,s){},490:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(2),r=s.n(a),o=s(36),c=s.n(o),i=(s(233),s(11)),l=s(12),d=s(14),h=s(13),j=s(9),u=s(491),m=s(492),b=s(493),p=s(494),g=s(495),O=s(496),x=s(497),f=s(16),v=s(15),N=s(10),y=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={isnavopen:!1,ismodalopen:!1},n.toggleNav=n.toggleNav.bind(Object(j.a)(n)),n.onClicklogout=n.onClicklogout.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"toggleNav",value:function(){this.setState({isnavopen:!this.state.isnavopen})}},{key:"onClicklogout",value:function(){this.props.logout(),f.a}},{key:"render",value:function(){return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(u.a,{dark:!0,className:"navbar",expand:"md",children:Object(n.jsxs)("div",{className:"container justify-content",children:[Object(n.jsx)(m.a,{onClick:this.toggleNav}),Object(n.jsx)(b.a,{className:"mr-auto text",href:"/",children:Object(n.jsx)("b",{children:"Foodville"})}),Object(n.jsxs)(p.a,{isOpen:this.state.isnavopen,navbar:!0,children:[Object(n.jsxs)(g.a,{navbar:!0,children:[this.props.login.loggedIn&&"User"===this.props.login.user?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(O.a,{children:Object(n.jsxs)(v.c,{className:"nav-link",to:"/user",children:[Object(n.jsx)("span",{className:"fa fa-child fa-lg"}),"user"]})})}):Object(n.jsx)("div",{}),this.props.login.loggedIn&&"Manager"===this.props.login.user?Object(n.jsx)(O.a,{children:Object(n.jsxs)(v.c,{className:"nav-link",to:"/manager",children:[Object(n.jsx)("span",{className:"fa fa-briefcase fa-lg"})," manager"]})}):Object(n.jsx)("div",{})]}),Object(n.jsx)(g.a,{navbar:!0,className:"ml-auto",children:this.props.login.loggedIn?Object(n.jsx)(O.a,{children:Object(n.jsxs)(x.a,{outline:!0,onClick:this.onClicklogout,children:[Object(n.jsx)("span",{className:"fa fa-hand-grab-o fa-lg"})," Logout"]})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O.a,{children:Object(n.jsxs)(v.c,{className:"nav-link",to:"/login",children:[Object(n.jsx)("span",{className:"fa fa-sign-in fa-lg"})," Login"]})}),Object(n.jsx)(O.a,{children:Object(n.jsxs)(v.c,{className:"nav-link",to:"/register",children:[Object(n.jsx)("span",{className:"fa fa-hand-grab-o fa-lg"}),"  Register"]})})]})})]})]})})})}}]),s}(a.Component),_=Object(N.connect)((function(e){return{manager:e.managers,user:e.users}}))(y);var E=function(e){return Object(n.jsx)("div",{className:"footer ",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"row justify-content-center textcol",children:[Object(n.jsxs)("div",{className:"col-4 offset-1 col-sm-2",children:[Object(n.jsx)("h4",{children:Object(n.jsx)("b",{children:"Links"})}),Object(n.jsxs)("ul",{className:"list-unstyled  textcol",children:[Object(n.jsx)("li",{children:Object(n.jsx)(v.b,{className:"textcol",to:"/home",children:"Home"})}),Object(n.jsx)("li",{children:Object(n.jsx)(v.b,{className:"textcol",to:"#",children:"About"})}),Object(n.jsx)("li",{children:Object(n.jsx)(v.b,{className:"textcol",to:"/menu",children:"Menu"})})]})]}),Object(n.jsxs)("div",{className:"col-7 col-sm-5 textcol",children:[Object(n.jsx)("h4",{children:Object(n.jsx)("b",{children:"Our Address"})}),Object(n.jsxs)("address",{className:"textcol",children:["(Address jab aega to daldengay XD)",Object(n.jsx)("br",{}),Object(n.jsx)("i",{className:"fa fa-phone fa-lg textcol"}),": +92 334 3340629",Object(n.jsx)("br",{}),Object(n.jsx)("i",{className:"fa fa-fax fa-lg textcol"}),": (fax number to be added)",Object(n.jsx)("br",{}),Object(n.jsx)("i",{className:"fa fa-envelope fa-lg textcol"}),": ",Object(n.jsx)("a",{className:"textcol",href:"mailto:mustafamirza45@gmail.com",children:"Foodville"})]})]})]}),Object(n.jsx)("div",{className:"row justify-content-end textcol",children:Object(n.jsx)("div",{className:"col-12 col-sm-4 textcol",children:Object(n.jsxs)("div",{className:"text-center textcol",children:[Object(n.jsx)("a",{className:"btn btn-social-icon btn-google textcol",href:"http://google.com/+",children:Object(n.jsx)("i",{className:"fa fa-google-plus"})}),Object(n.jsx)("a",{className:"btn btn-social-icon btn-facebook textcol",href:"http://www.facebook.com/profile.php?id=",children:Object(n.jsx)("i",{className:"fa fa-facebook"})}),Object(n.jsx)("a",{className:"btn btn-social-icon btn-linkedin textcol",href:"http://www.linkedin.com/in/",children:Object(n.jsx)("i",{className:"fa fa-linkedin"})}),Object(n.jsx)("a",{className:"btn btn-social-icon btn-twitter textcol",href:"http://twitter.com/",children:Object(n.jsx)("i",{className:"fa fa-twitter"})}),Object(n.jsx)("a",{className:"btn btn-social-icon btn-google textcol",href:"http://youtube.com/",children:Object(n.jsx)("i",{className:"fa fa-youtube"})}),Object(n.jsx)("a",{className:"btn btn-social-icon btn-instagram textcol",href:"https://www.instagram.com/",children:Object(n.jsx)("i",{className:"fa fa-instagram"})}),Object(n.jsx)("a",{className:"btn btn-social-icon textcol",href:"mailto:mustafamirza45@gmail.com",children:Object(n.jsx)("i",{className:"fa fa-envelope-o"})})]})})}),Object(n.jsx)("div",{className:"row justify-content-center textcol",children:Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsx)("p",{children:Object(n.jsx)("b",{children:"\xa9 Copyright 2020 Foodville"})})})})]})})},w=(s(152),s(498)),S=s(499),C=s(500),L=s(501),D=s(510),I=s(502),R=s(503),k=s(504),A=s(505),T=s(506),M="MANAGER_LOADING",P="ADD_MANAGER",F="MANAGER_FAILED",U="SEND_MANAGER",q="SEND_MANAGER_FAILED",W="RESTAURANT_LOADING",H="ADD_RESTAURANT",G="POST_RESTAURANT_FAIL",z="RESTAURANT_FAILED",X="RESTAURANT_ADDRESS",J="RESTAURANT_UPLOAD",V="RESTAURANT_UPLOAD_FAIL",Z="RESTAURANT_DELETE",Y="RESTAURANT_DELETE_FAIL",B="RESTAURANT_UPDATE",K="RESTAURANT_UPDATE_FAIL",$="LOAD_ALL_RESTAURANTS",Q="LOAD_RESTAURANTS_FAIL",ee="LOGIN_SUCCESS",te="LOGIN_FAILURE",se="LOGOUT",ne="SEND_USER",ae="SEND_USER_FAILED",re="LOAD_USER_PROFILE",oe="USER_DISPLAY_FAIL",ce="GET_CURR_USER_ADDRESS",ie="ADD_DISH",le="DISH_LOADING",de="DISH_FAILED",he="SEND_DISH",je="ADD_DISH_FAILED",ue="DISH_UPLOAD",me="DISH_UPLOAD_FAIL",be="DISH_DELETE",pe="DISH_DELETE_FAIL",ge="DISH_UPDATE_FAIL",Oe="DISH_UPDATE",xe="ADD_REVIEW",fe="REVIEW_LOADING",ve="REVIEW_FAILED",Ne="SEND_REVIEW",ye="REVIEW_CHECK",_e="FETCH_REVIEWS",Ee="FETCH_REVIEW_FAILED",we="FETCH_DISHES",Se="FETCH_DISH_FAILED",Ce="DP_UPLOAD_FAIL",Le="DP_UPLOAD",De="SET_LOCATION_FAILED",Ie="SET_LOCATION",Re="RESET",ke="http://localhost:3003/",Ae=function(){return{type:M}},Te=function(e){return{type:F,payload:e}},Me=function(e){return{type:P,payload:e}},Pe=function(e){return function(t){return console.log("THIS IS THE USER ID IM GETTING "+e),fetch(ke+"AllRestaurants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(Fe(e))})).catch((function(e){return t(Ue(e.message))}))}},Fe=function(e){return console.log("INSIDE USER PROFILEEE"+e),{type:$,payload:e}},Ue=function(e){return console.log("RESTURAANNTT FAAAIIILLL"+e),{type:Q,payload:e}},qe=function(e){return function(t){return t(We(!0)),fetch(ke+"restaurant/"+e).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(Ge(e))})).catch((function(e){return t(He(e.message))}))}},We=function(){return{type:W}},He=function(e){return{type:z,payload:e}},Ge=function(e){return{type:H,payload:e}},ze=function(e){return console.log("INSIDE LOGIN SUCCESS"+e),{type:ee,payload:e}},Xe=function(e){return{type:te,payload:e}},Je=function(){return{type:Ne}},Ve=function(e){return{type:ve,payload:e}},Ze=function(e){return console.log("inside sendman",e),{type:U,payload:e}},Ye=function(e){return{type:q,payload:e}},Be=function(e){return console.log("INSIDE USER PROFILEEE"+e),{type:re,payload:e}},Ke=function(e){return console.log("USER FAAAIIILLL"+e),{type:oe,payload:e}},$e=function(e){return console.log("Inside Reviews"+e),{type:_e,payload:e}},Qe=function(e){return console.log("Reviews failed to get"+e),{type:Ee,payload:e}},et=function(e){return console.log("Inside Reviews"+e),{type:we,payload:e}},tt=function(e){return console.log("Reviews failed to get"+e),{type:Se,payload:e}},st=function(e){return{type:Ce,payload:e}},nt=function(){return{type:Le}},at=function(e){return{type:De}},rt=function(){return{type:Ie}},ot=function(e){return console.log("inside send_user",e),{type:ne,payload:e}},ct=function(e){return{type:ae,payload:e}},it=function(e){return{type:X,payload:e}},lt=function(e){return{type:G,payload:e}},dt=function(e){return{type:V,payload:e}},ht=function(e){return console.log(e),{type:J,payload:e}},jt=function(){return{type:Z}},ut=function(e){return{type:Y,payload:e}},mt=function(){return{type:B}},bt=function(e){return{type:K,payload:e}},pt=function(){return{type:le}},gt=function(e){return{type:de,payload:e}},Ot=function(e){return{type:ie,payload:e}},xt=function(){return{type:he}},ft=function(e){return{type:je,payload:e}},vt=function(){return{type:be}},Nt=function(e){return{type:pe,payload:e}},yt=function(){return{type:fe}},_t=function(e){return{type:xe,payload:e}},Et=function(e){return{type:ye,payload:e}},wt=function(e){return{type:ve,payload:e}},St=function(){return{type:Re}},Ct=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onClick=function(){var t=e.props,s=t.label;(0,t.onClick)(s)},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this.onClick,t=this.props,s=t.activeTab,a=t.label,r="tab-list-item";return s===a&&(r+=" tab-list-active"),Object(n.jsx)("li",{className:r,onClick:e,children:a})}}]),s}(a.Component),Lt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).onClickTabItem=function(e){n.setState({activeTab:e})},n.state={activeTab:n.props.children[0].props.label},n}return Object(l.a)(s,[{key:"render",value:function(){var e=this.onClickTabItem,t=this.props.children,s=this.state.activeTab;return Object(n.jsxs)("div",{className:"tabs row",children:[Object(n.jsx)("div",{className:"con",children:Object(n.jsx)("ol",{className:"tab-list col-12",children:t.map((function(t){var a=t.props.label;return Object(n.jsx)(Ct,{activeTab:s,label:a,onClick:e},a)}))})}),Object(n.jsx)("div",{className:"tab-content col-8",children:t.map((function(e){if(e.props.label===s)return e.props.children}))})]})}}]),s}(a.Component),Dt="http://localhost:3003/",It=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={res_id:null,ismodalopen:!1},n.toggleModal=n.toggleModal.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handledelete=n.handledelete.bind(Object(j.a)(n)),n.fileInput=r.a.createRef(),n}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s=new FormData;s.append("image",this.fileInput.current.files[0]),this.fileInput.current.files[0]?(this.props.imgupl(s,this.state.res_id),setTimeout((function(){t.props.fetchRestaurant(t.props.login.Id)}),500),this.setState({ismodalopen:!this.state.ismodalopen})):alert("please upload photo")}},{key:"handledelete",value:function(e){var t=this;this.props.del_res(e),setTimeout((function(){t.props.fetchRestaurant(t.props.login.Id)}),500)}},{key:"toggleModal",value:function(e){this.setState({ismodalopen:!this.state.ismodalopen,res_id:e})}},{key:"componentDidMount",value:function(){this.props.fetchManagers(this.props.login.Id),this.props.fetchRestaurant(this.props.login.Id)}},{key:"render",value:function(){var e=this,t=this.props.restaurant.restaurants.map((function(t){return Object(n.jsx)("div",{label:t.Rest_Name,children:Object(n.jsxs)(w.a,{className:"cards bord colo1 ",body:!0,style:{borderColor:"#0000"},children:[Object(n.jsx)("div",{className:"ml-auto col-5",children:Object(n.jsx)(v.b,{to:"/update/".concat(t.Restaurant_ID),children:Object(n.jsx)("button",{className:"colo font-weight-bold",children:"Edit Details"})})}),Object(n.jsxs)("div",{className:"block mx-auto center ",children:[null===t.img_src?Object(n.jsx)(S.a,{className:"cut",width:"100%",src:Dt+"images/default.jpg",alt:t.Rest_Name}):Object(n.jsx)(S.a,{className:"cut",width:"100%",src:Dt+t.img_src,alt:t.Rest_Name}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsxs)(L.a,{md:{size:12,offset:0},children:[Object(n.jsx)(x.a,{outline:!0,onClick:function(){return e.toggleModal(t.Restaurant_ID)},children:Object(n.jsx)("span",{className:"fa fa-image font-weight-bold",children:"Upload image"})}),Object(n.jsx)(D.a,{className:" tfont shadows ",isOpen:e.state.ismodalopen,toggle:e.toggleModal,children:Object(n.jsxs)(I.a,{className:" shadows",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsxs)("label",{children:["Upload file:",Object(n.jsx)("input",{type:"file",ref:e.fileInput})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",children:"Submit"})]})}),Object(n.jsxs)(x.a,{outline:!0,onClick:e.toggleModal,children:[Object(n.jsx)("span",{className:"fa fa-backward"}),"Back"]})]})})]})})]}),Object(n.jsx)(R.a,{className:"center",children:Object(n.jsx)(k.a,{children:Object(n.jsx)("h3",{className:"tfont",children:Object(n.jsx)("b",{children:t.Rest_Name})})})}),Object(n.jsxs)(A.a,{className:"card-body",children:[Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Cuisine: "})," ",t.Cuisine_Type]}),t.Rating?Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Rating: "}),t.Rating]}):Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Rating: "}),"No Ratings"]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Contact_no: "}),t.Contact_no]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Website: "}),Object(n.jsx)("a",{href:"https://"+t.Website,target:"_blank",children:t.Website})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 mx-auto col-md-5",children:Object(n.jsx)(v.b,{to:"/manager/".concat(t.Restaurant_ID),children:Object(n.jsx)(x.a,{outline:!0,children:Object(n.jsx)("span",{className:"fa fa-info font-weight-bold",children:"View Dishes"})})})}),Object(n.jsx)("div",{className:"col-6 mr-auto col-md-6",children:Object(n.jsx)(x.a,{outline:!0,onClick:function(){return e.handledelete(t.Restaurant_ID)},children:Object(n.jsx)("span",{className:"fa fa-trash-o font-weight-bold",children:"Delete restaurant"})})})]})]})]})},t.Restaurant_ID)})),s=this.props.manager.managers.map((function(s){return Object(n.jsx)("div",{className:"col-10 col-md-8 m-8 tfont text mx-auto",children:Object(n.jsx)(w.a,{className:"cards2  row",children:Object(n.jsxs)(A.a,{children:[Object(n.jsxs)(k.a,{children:[Object(n.jsx)("b",{className:"colort",children:"'  Name:    "}),s.Manager_Name]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:" col-12 col-md-6",children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{className:"colort",children:"'  Email:  "}),s.Manager_Email]})}),Object(n.jsx)("div",{className:" col-12 col-md-6",children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{className:"colort",children:"' Joined on:   "}),s.Join_date.split("T")[0]]})}),Object(n.jsx)("div",{className:" col-12 col-md-12",children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{className:"colort1",children:"'Restaurants registered:   "}),e.props.restaurant.restaurants.length]})}),Object(n.jsx)("div",{className:" col-2 mx-auto",children:Object(n.jsx)(v.b,{to:"/addres",children:Object(n.jsx)(x.a,{outline:!0,children:Object(n.jsx)("span",{className:"fa fa-delicious",children:"Add Restaurant"})})})}),Object(n.jsx)("div",{className:" col-12 col-md-12 center",children:Object(n.jsx)(R.a,{children:Object(n.jsx)("b",{children:"OVERVIEW"})})})]}),console.log(e.props.restaurant.restaurants.length),0!=e.props.restaurant.restaurants.length?Object(n.jsx)(Lt,{children:t}):Object(n.jsxs)(Lt,{children:[Object(n.jsx)("div",{className:"cards bord",label:"None Registered",children:Object(n.jsx)("h1",{children:"why dont you register your first restaurant now"})}),Object(n.jsx)("div",{label:""})]})]})})},s.Manager_ID)}));return this.props.manager.loading?Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"loading"})}):Object(n.jsx)("div",{className:"row-content",children:s})}}]),s}(a.Component),Rt=Object(f.g)(Object(N.connect)((function(e){return{manager:e.managers,restaurant:e.restaurants}}),(function(e){return{fetchManagers:function(t){var s;e((s=t,function(e){return e(Ae(!0)),fetch(ke+"manager/"+s).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){e(Me(t))})).catch((function(t){return e(Te(t.message))}))}))},fetchRestaurant:function(t){e(qe(t))},imgupl:function(t,s){e(function(e,t){return function(s){return fetch(ke+"upload/"+t,{method:"POST",body:e}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return s(ht(e))})).catch((function(e){return s(dt(e))}))}}(t,s))},del_res:function(t){e(function(e){return function(t){return fetch(ke+"restaurant/"+e,{method:"DELETE"}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return t(jt())})).catch((function(e){return t(ut(e))}))}}(t))}}}))(It)),kt=s(50),At=s(19),Tt=s(31),Mt=s.n(Tt),Pt=s(79),Ft=s.n(Pt),Ut=s(507),qt=s(508);Mt.a.setApiKey("AIzaSyDcL9-wKJmyHhupmtAoA3UTZNiVnq1kbi8"),Mt.a.enableDebug();var Wt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_2"===e[t].types[0])return e[t].long_name},n.getArea=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0])for(var s=0;s<e[t].types.length;s++)if("sublocality_level_1"===e[t].types[s]||"locality"===e[t].types[s])return e[t].long_name},n.getState=function(e){for(var t=0;t<e.length;t++)for(var s=0;s<e.length;s++)if(e[s].types[0]&&"administrative_area_level_1"===e[s].types[0])return e[s].long_name},n.onChange=function(e){n.setState(Object(kt.a)({},e.target.name,e.target.value))},n.onInfoWindowClose=function(e){},n.onMarkerDragEnd=function(e){var t=e.latLng.lat(),s=e.latLng.lng();Mt.a.fromLatLng(t,s).then((function(e){var a=e.results[0].formatted_address,r=e.results[0].address_components,o=n.getCity(r),c=n.getArea(r),i=n.getState(r);n.setState({address:a||"",area:c||"",city:o||"",state:i||"",markerPosition:{lat:t,lng:s},mapPosition:{lat:t,lng:s}})}),(function(e){console.error(e)}))},n.onPlaceSelected=function(e){var t=e.formatted_address,s=e.address_components,a=n.getCity(s),r=n.getArea(s),o=n.getState(s),c=e.geometry.location.lat(),i=e.geometry.location.lng();n.setState({address:t||"",area:r||"",city:a||"",state:o||"",markerPosition:{lat:c,lng:i},mapPosition:{lat:c,lng:i}})},n.state={address:"",city:"",area:"",state:"",mapPosition:{lat:n.props.center.lat,lng:n.props.center.lng},markerPosition:{lat:n.props.center.lat,lng:n.props.center.lng}},n.SubmitLocation=n.SubmitLocation.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"SubmitLocation",value:function(e){e.preventDefault(),console.log("address saved!"),this.props.Get_Curr_Location(this.state)}},{key:"componentDidMount",value:function(){var e=this;Mt.a.fromLatLng(this.state.mapPosition.lat,this.state.mapPosition.lng).then((function(t){var s=t.results[0].formatted_address,n=t.results[0].address_components,a=e.getCity(n),r=e.getArea(n),o=e.getState(n);console.log("city",a,r,o),e.setState({address:s||"",area:r||"",city:a||"",state:o||""})}),(function(e){console.error(e)}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.markerPosition.lat!==this.props.center.lat||this.state.address!==t.address||this.state.city!==t.city||this.state.area!==t.area||this.state.state!==t.state||this.props.center.lat!==e.center.lat&&void 0}},{key:"render",value:function(){var e=this,t=Object(At.withScriptjs)(Object(At.withGoogleMap)((function(t){return Object(n.jsxs)(At.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,defaultCenter:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng},children:[Object(n.jsx)(At.Marker,{google:e.props.google,name:"something",draggable:!0,onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.markerPosition.lat,lng:e.state.markerPosition.lng}}),Object(n.jsx)(At.InfoWindow,{onClose:e.onInfoWindowClose,position:{lat:e.state.markerPosition.lat+.0018,lng:e.state.markerPosition.lng},children:Object(n.jsx)("div",{children:Object(n.jsx)("span",{style:{padding:0,margin:0},children:e.state.address})})}),Object(n.jsx)(Ft.a,{style:{width:"100%",height:"40px",paddingLeft:"16px",marginTop:"2px",marginBottom:"100px"},onPlaceSelected:e.onPlaceSelected,types:["address"]})]})})));return void 0!==this.props.center.lat?Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(Ut.a,{className:"navr",children:Object(n.jsx)(qt.a,{children:Object(n.jsx)(v.b,{to:"/user",children:"Done"})})})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"City"}),Object(n.jsx)("input",{type:"text",name:"city",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.city})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"Area"}),Object(n.jsx)("input",{type:"text",name:"area",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.area})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"State"}),Object(n.jsx)("input",{type:"text",name:"state",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.state})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"Address"}),Object(n.jsx)("input",{type:"text",name:"address",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.address}),Object(n.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDcL9-wKJmyHhupmtAoA3UTZNiVnq1kbi8&libraries=places",loadingElement:Object(n.jsx)("div",{style:{height:"100%"}}),containerElement:Object(n.jsx)("div",{style:{height:this.props.height}}),mapElement:Object(n.jsx)("div",{style:{height:"100%"}})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)("button",{style:{marginBottom:30},onClick:this.SubmitLocation,children:"Save Location"})]})}):Object(n.jsx)("div",{style:{height:this.props.height}})}}]),s}(r.a.Component),Ht=Object(N.connect)(null,(function(e){return{Get_Curr_Location:function(t){console.log("Inside mapdispatchtoProps of maps"),e(function(e){return console.log("Inside get curr address"),{type:ce,payload:e}}(t))}}}))(Wt),Gt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={location:{lat:0,lng:0,Address:null}},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){var s=t.coords.latitude,n=t.coords.longitude;console.log("getCurrentPosition Success "+s+n),e.setState({location:{lat:s,lng:n}})}))}},{key:"render",value:function(){return 0===this.state.location.lat?Object(n.jsx)("div",{}):Object(n.jsx)("div",{className:"center row-content",children:Object(n.jsx)(w.a,{className:"col-6 col-md-6 center ",children:Object(n.jsx)(Ht,{google:this.props.google,center:{lat:this.state.location.lat,lng:this.state.location.lng},height:"300px",zoom:15,extractmarker:0})})})}}]),s}(a.Component),zt=s(6),Xt="http://localhost:3003/",Jt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={username:"",pass:""},n.onSubmit=n.onSubmit.bind(Object(j.a)(n)),n.handleUNChange=n.handleUNChange.bind(Object(j.a)(n)),n.handlePChange=n.handlePChange.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"onSubmit",value:function(e){this.props.Validate_User(this.state),e.preventDefault()}},{key:"handleUNChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePChange",value:function(e){this.setState({pass:e.target.value})}},{key:"render",value:function(){return this.props.login.loggedIn?Object(n.jsx)("div",{children:"Manager"===this.props.login.user?Object(n.jsx)(f.a,{to:"/manager"}):Object(n.jsx)(f.a,{to:"/user"})}):Object(n.jsxs)("div",{className:"Grid2 ",children:[Object(n.jsx)("div",{className:"col1",children:Object(n.jsx)("img",{src:Xt+"images/login_img.jpg",style:{width:"100%",height:"100%"}})}),Object(n.jsxs)("div",{className:"col2  ",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:Xt+"images/logo.jpg",alt:"logo",align:"left",style:{width:150}})}),Object(n.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(n.jsx)("label",{children:Object(n.jsx)("b",{children:"Username"})}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Username",value:this.state.username,onChange:this.handleUNChange}),Object(n.jsx)("label",{children:Object(n.jsx)("b",{children:"Password"})}),Object(n.jsx)("input",{type:"password",placeholder:"Enter Password",value:this.state.pass,onChange:this.handlePChange}),this.props.login.error?Object(n.jsx)("div",{className:"text-danger",children:"Username or Password is incorrect"}):Object(n.jsx)(n.Fragment,{children:" "}),Object(n.jsx)("button",{type:"submit",children:"Login"}),Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox"})," Remember me"]}),Object(n.jsx)("p",{}),Object(n.jsx)("label",{children:" Don't have an account?"}),Object(n.jsx)(v.b,{to:"/register",children:Object(n.jsx)("button",{type:"button",children:"Register"})})]})]})]})}}]),s}(a.Component),Vt=Object(N.connect)(null,(function(e){return{Validate_User:function(t){e(function(e){return function(t){return console.log("YE AARAHA HAI "+e.username),fetch(ke+"validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),console.log(e),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(ze(e))})).catch((function(e){return t(Xe(e.message))}))}}(t))}}}))(Jt),Zt=s(509),Yt=s(55),Bt=function(e){return e&&e.length},Kt=function(e){return function(t){return!t||t.length<=e}},$t=function(e){return function(t){return!(t>0)||t&&t.length>=e}},Qt=function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},es=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){console.log(e),this.props.resetregisterform(),this.props.sendmanager(e)}},{key:"render",value:function(){var e=this;return Object(n.jsx)(Yt,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:1e4,transitionEnter:!0,transitionEnterTimeout:1e3,transitionLeave:!0,transitionLeaveTimeout:1e3,children:Object(n.jsx)("div",{className:"container padd1",children:Object(n.jsx)("div",{className:"row justify-content-around",children:Object(n.jsx)("div",{className:"col-8 col-md-8 mx-auto",children:Object(n.jsx)(w.a,{className:"cards2",children:Object(n.jsxs)(A.a,{children:[Object(n.jsx)(T.a,{className:"col-12 col-sm-6 mx-auto center ",children:Object(n.jsx)("h3",{children:Object(n.jsx)("b",{children:Object(n.jsx)("u",{children:"SIGN-UP AS A MANAGER"})})})}),Object(n.jsxs)("div",{className:"row row-content",children:[Object(n.jsx)("div",{className:"col-12 col-md-9 centerleft1",children:Object(n.jsxs)(zt.Form,{model:"register",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlfor:"Manager_Name",md:4,children:Object(n.jsx)("b",{children:"Manager Name "})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Manager_Name",id:"Manager_Name",name:"Manager_Name",placeholder:"Manager Name",className:"form-control ",validators:{required:Bt,minLength:$t(3),maxLength:Kt(15)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Manager_Name",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 2 characters",maxLength:"must be 15 characters or less"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlfor:"User_Name",md:4,children:Object(n.jsx)("b",{children:"User Name "})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".User_Name",id:"User_Name",name:"User_Name",placeholder:"User Name",className:"form-control ",validators:{required:Bt,minLength:$t(3),maxLength:Kt(25)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".User_Name",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 2 characters",maxLength:"must be 25 characters or less"}})]}),Object(n.jsx)("div",{className:"mx-auto text-danger",children:this.props.insert?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)("div",{children:"Username already Exists"})})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Password",md:4,children:Object(n.jsx)("b",{children:"Password"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Password",id:"Password",name:"Password",type:"password",placeholder:"Password",className:"form-control",validators:{required:Bt,minLength:$t(8)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Password",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 8 numbers"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Manager_Email",md:4,children:Object(n.jsx)("b",{children:"Email"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Manager_Email",id:"Manager_Email",name:"Manager_Email",placeholder:"Email",className:"form-control",validators:{required:Bt,validEmail:Qt}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Manager_Email",show:"touched",messages:{required:"Required \n",validEmail:"Invalid Email address"}})]}),Object(n.jsxs)("div",{className:"mx-auto text-danger",children:[this.props.email?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Not a valid email"})}),console.log(this.props.email,this.props.sent),this.props.sent?Object(n.jsxs)(n.Fragment,{children:[alert("an E-mail has been sent to your entered email"),setTimeout((function(){e.props.reset()}),400)]}):Object(n.jsx)(n.Fragment,{})]})]}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsx)(L.a,{md:{size:10,offset:6},children:Object(n.jsx)(x.a,{type:"submit",color:"primary",children:Object(n.jsx)("b",{children:"Register"})})})})]})}),Object(n.jsx)("div",{className:"col-5 mx-auto",children:Object(n.jsx)(v.b,{to:"/uregister",children:Object(n.jsx)("button",{type:"button",children:" Want to register as a user?"})})})]})]})})})})})})}}]),s}(a.Component),ts=Object(N.connect)(null,(function(e){return{reset:function(){e(St())},sendmanager:function(t){var s;e((s=t,function(e){return fetch(ke+"manager",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){e(Ze(t))})).catch((function(t){return e(Ye(t.message))}))}))}}}))(es),ss=s(55),ns=function(e){return e&&e.length},as=function(e){return function(t){return!t||t.length<=e}},rs=function(e){return function(t){return!(t>0)||t&&t.length>=e}},os=function(e){return!isNaN(Number(e))},cs=function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},is=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){console.log("Current State is: "+JSON.stringify(e)),this.props.resetuserform(),this.props.senduser(e)}},{key:"render",value:function(){var e=this;return console.log(this.props.insert),Object(n.jsx)(ss,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!0,transitionEnterTimeout:0,transitionLeave:!0,transitionLeaveTimeout:0,children:Object(n.jsx)("div",{className:"container padd1",children:Object(n.jsx)("div",{className:"row justify-content-around",children:Object(n.jsx)("div",{className:"col-8 col-md-8 mx-auto",children:Object(n.jsx)(w.a,{className:"cards2",children:Object(n.jsxs)(A.a,{children:[Object(n.jsx)(T.a,{className:"col-12 col-sm-6 mx-auto center ",children:Object(n.jsx)("h3",{children:Object(n.jsx)("b",{children:Object(n.jsx)("u",{children:"SIGN-UP AS A USER"})})})}),Object(n.jsxs)("div",{className:"row row-content",children:[Object(n.jsx)("div",{className:"col-12 col-md-9 centerleft1",children:Object(n.jsxs)(zt.Form,{model:"userregister",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlfor:"first_name",md:4,children:Object(n.jsx)("b",{children:"First Name "})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".first_name",id:"first_name",name:"first_name",placeholder:"First Name",className:"form-control ",validators:{required:ns,minLength:rs(3),maxLength:as(15)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".first_name",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 2 characters",maxLength:"must be 15 characters or less"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlfor:"Last_name",md:4,children:Object(n.jsx)("b",{children:"Last Name"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Last_name",id:"Last_name",name:"Last_name",placeholder:"Last Name",className:"form-control ",validators:{required:ns,minLength:rs(3),maxLength:as(15)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Last_name",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 2 characters",maxLength:"must be 15 characters or less"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlfor:"Phone_num",md:4,children:Object(n.jsx)("b",{children:"Phone Number"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Phone_num",id:"Phone_num",name:"Phone_num",placeholder:"Phone Number",className:"form-control ",validators:{required:ns,minLength:rs(11),maxLength:as(20),isNumber:os}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Phone_num",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 10 digits",maxLength:"must be 13 digits or less",isNumber:"Must be a number"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Email",md:4,children:Object(n.jsx)("b",{children:"Email"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Email",id:"Email",name:"Email",placeholder:"Email",className:"form-control",validators:{required:ns,validEmail:cs}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Email",show:"touched",messages:{required:"Required\n",validEmail:"Invalid Email address"}})]}),Object(n.jsxs)("div",{className:"mx-auto text-danger",children:[this.props.email?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Not a valid email"})}),console.log(this.props.email,this.props.sent),this.props.sent?Object(n.jsxs)(n.Fragment,{children:[alert("an E-mail has been sent to your entered email"),setTimeout((function(){e.props.reset()}),500)]}):Object(n.jsx)(n.Fragment,{})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlfor:"User_Name",md:4,children:Object(n.jsx)("b",{children:"User Name"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".User_Name",id:"User_Name",name:"User_Name",placeholder:"User Name",className:"form-control ",validators:{required:ns,minLength:rs(3),maxLength:as(25)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".User_Name",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 2 characters",maxLength:"must be 25 characters or less"}})]}),Object(n.jsx)("div",{className:"mx-auto text-danger",children:this.props.insert?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)("div",{children:"Username already Exists"})})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Password",md:4,children:Object(n.jsx)("b",{children:"Password"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Password",id:"Password",name:"Password",type:"password",placeholder:"Password",className:"form-control",validators:{required:ns,minLength:rs(8)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Password",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 8 numbers"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlfor:"Home_address",md:4,children:Object(n.jsx)("b",{children:"Home Address"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Home_address",id:"Home_address",name:"Home_address",placeholder:"Home Address",className:"form-control ",validators:{required:ns,minLength:rs(3),maxLength:as(100)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Home_address",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 2 characters",maxLength:"must be 100 characters or less"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)("div",{className:"form-check",children:Object(n.jsx)(Zt.a,{htmlfor:"Gender",md:12,children:Object(n.jsx)("b",{children:"Gender"})})}),Object(n.jsx)(L.a,{md:{size:5,offset:1},children:Object(n.jsxs)(zt.Control.select,{model:".Gender",name:"Gender",className:"form-control",children:[Object(n.jsx)("option",{children:"M"}),Object(n.jsx)("option",{children:"F"}),Object(n.jsx)("option",{children:"O"})]})})]}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsx)(L.a,{md:{size:10,offset:6},children:Object(n.jsx)(x.a,{type:"submit",color:"primary",children:Object(n.jsx)("b",{children:"Register"})})})})]})}),Object(n.jsx)("div",{className:"col-5 mx-auto",children:Object(n.jsx)(v.b,{to:"/register",children:Object(n.jsx)("button",{type:"button",children:" Want to register as a Manager?"})})})]})]})})})})})})}}]),s}(a.Component),ls=Object(N.connect)(null,(function(e){return{reset:function(){e(St())},senduser:function(t){var s;e((s=t,function(e){return fetch(ke+"user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){e(ot(t))})).catch((function(t){return e(ct(t.message))}))}))}}}))(is),ds=s(43),hs="http://localhost:3003/",js=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={Id:n.props.login.Id,User:n.props.login.user,search:"",Curr_Location:n.props.LoggedInUser.CurrAddress,lat:n.props.LoggedInUser.lat,lon:n.props.LoggedInUser.lon,clicked:!1,filter_Rating_value:-1,filter_Dishvalue:"",ismodalopen:!1,ismodal1open:!1,LocFilter:!1},n.openMaps=n.openMaps.bind(Object(j.a)(n)),n.handleRFilterChange=n.handleRFilterChange.bind(Object(j.a)(n)),n.handleDFilterChange=n.handleDFilterChange.bind(Object(j.a)(n)),n.toggleModal=n.toggleModal.bind(Object(j.a)(n)),n.toggleModal1=n.toggleModal1.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handledelete=n.handledelete.bind(Object(j.a)(n)),n.FilterByLocation=n.FilterByLocation.bind(Object(j.a)(n)),n.fileInput=r.a.createRef(),n}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s=new FormData;s.append("image",this.fileInput.current.files[0]),this.fileInput.current.files[0]?(this.props.UploadImage(s,this.props.login.Id),setTimeout((function(){t.props.GetUserDetails(t.state)}),500),this.setState({ismodal1open:!this.state.ismodal1open})):alert("Please Upload A photo")}},{key:"toggleModal",value:function(){var e=this;this.setState({ismodalopen:!this.state.ismodalopen}),setTimeout((function(){e.props.GetUserDetails(e.state)}),300)}},{key:"toggleModal1",value:function(e){this.setState({ismodal1open:!this.state.ismodal1open,dish_id:e})}},{key:"handledelete",value:function(e){var t=this;this.props.del_dis(e),setTimeout((function(){t.props.GetUserDetails(t.state)}),500)}},{key:"openMaps",value:function(e){e.preventDefault(),this.setState({clicked:!0})}},{key:"FilterByLocation",value:function(e){e.preventDefault(),this.setState({LocFilter:!this.state.LocFilter})}},{key:"updateSearch",value:function(e){this.setState({search:e.target.value.substr(0,50)})}},{key:"handleRFilterChange",value:function(e){this.setState({filter_Rating_value:e.target.value})}},{key:"handleDFilterChange",value:function(e){console.log("Inside change cuisine event"),this.setState({filter_Dishvalue:e.target.value}),console.log(e.target.value)}},{key:"RestClicked",value:function(e){e.preventDefault(),alert("helo")}},{key:"componentDidMount",value:function(){console.log("BEFORE DISPATCH"+this.state.Id),this.props.GetUserDetails(this.state),this.props.fetchAllRestaurants(this.state)}},{key:"render",value:function(){var e,t=this;if(this.state.lat&&this.state.lon&&this.props.SetUserLocation(this.state),this.state.clicked)return Object(n.jsxs)("div",{children:[console.log("inside if"),Object(n.jsx)(f.a,{to:"/getlocation"}),console.log("XXXXXXXXXXXXYYYYYYYYYYZZZZZ"+this.props.location),console.log("HELLO AFTER STATE "+this.state.lat,this.state.lon)]});var s=(e=this.props.restaurant.restaurants,Object(ds.a)(e),e),a=[];if(this.state.filter_Rating_value>0){var r=this.state.filter_Rating_value;a=s.filter((function(e){if(e.Rating>=r)return e}))}else if(this.state.filter_Dishvalue){var o=this.state.filter_Dishvalue;a=s.filter((function(e){return e.Cuisine_Type==o}))}else this.state.LocFilter?this.state.lat&&this.state.lon?a=s.filter((function(e){var s=t.state.lat,n=t.state.lon,a=e.latitude,r=e.longitude;console.log("HERE ARE VALUES",s,n,a,r);var o=s*Math.PI/180,c=a*Math.PI/180,i=(a-s)*Math.PI/180,l=(r-n)*Math.PI/180,d=Math.sin(i/2)*Math.sin(i/2)+Math.cos(o)*Math.cos(c)*Math.sin(l/2)*Math.sin(l/2),h=6371e3*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)));if(console.log("DISTANCE IS "+h),h<=1500)return e})):(alert("Enter Current Location First!"),a=s):this.state.filter_Rating_value<0&&(a=s.filter((function(e){return-1!=e.Rest_Name.toLowerCase().indexOf(t.state.search.toLowerCase())})));var c=a.map((function(e){return Object(n.jsx)(v.b,{to:"/user/".concat(e.Restaurant_ID),children:Object(n.jsx)("div",{className:"Resturant-info-container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-6 mx-auto",children:[t.state.filter_Rating_value?console.log("rating afhihsisijs"):Object(n.jsx)(n.Fragment,{}),t.state.filter_Dishvalue?console.log("dish cuisine afhihsisijs"):Object(n.jsx)(n.Fragment,{}),null!==e.img_src?Object(n.jsx)("img",{src:hs+e.img_src,style:{float:"left",width:150,height:150}}):Object(n.jsx)("img",{src:hs+"images/noimage.png",style:{float:"left",width:150,height:150}})]}),Object(n.jsx)("div",{className:"mx-auto center",children:Object(n.jsxs)("h2",{style:{float:"right"},children:[e.Rest_Name,Object(n.jsxs)("h4",{children:[Object(n.jsx)("a",{href:"{res.Website}",children:e.Website})," "]}),Object(n.jsxs)("h4",{children:["Cuisine_Type : ",e.Cuisine_Type]}),e.Rating?Object(n.jsxs)("h4",{children:["Rating : ",e.Rating,"/5"]}):Object(n.jsx)("h4",{children:"No Rating"})]})})]})},e.Restaurant_ID)})}));return Object(n.jsxs)("div",{class:"row contain",children:[Object(n.jsxs)("div",{class:"columnX col-4",children:[Object(n.jsxs)("div",{class:"center-pic",children:[Object(n.jsx)("div",{className:"picc center",children:null!==this.props.LoggedInUser.imgsrc?Object(n.jsx)("img",{src:hs+this.props.LoggedInUser.imgsrc,alt:"Avatar",align:"center",style:{borderRadius:50,width:100,alignSelf:"center"}}):Object(n.jsx)("img",{src:hs+"images/noimage.png",alt:"Avatar",align:"center",style:{borderRadius:50,width:100,alignSelf:"center"}})}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsxs)(L.a,{md:{size:12,offset:0},children:[Object(n.jsx)(x.a,{outline:!0,onClick:function(){return t.toggleModal1(t.props.login.Id)},children:Object(n.jsx)("span",{className:"fa fa-image font-weight-bold",children:"Upload image"})}),Object(n.jsx)(D.a,{className:" tfont shadows ",isOpen:this.state.ismodal1open,toggle:this.toggleModal1,children:Object(n.jsxs)(I.a,{className:" shadows",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("label",{children:["Upload file:",Object(n.jsx)("input",{type:"file",ref:this.fileInput})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",children:"Submit"})]})}),Object(n.jsxs)(x.a,{outline:!0,onClick:this.toggleModal1,children:[Object(n.jsx)("span",{className:"fa fa-backward"}),"Back"]})]})})]})})]}),Object(n.jsxs)("div",{className:"User-info-container",children:[Object(n.jsxs)("h1",{className:"userText",children:[this.props.LoggedInUser.FName," ",this.props.LoggedInUser.LName]}),Object(n.jsxs)("h4",{className:"userText",children:["Home Address : ",this.props.LoggedInUser.Address]}),this.props.LoggedInUser.currAddress?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h4",{className:"userText",children:["Current Location : ",this.props.LoggedInUser.currAddress]}),Object(n.jsxs)("div",{className:"userText",children:[Object(n.jsx)("input",{type:"button",value:"Use Current Location",onClick:this.openMaps}),console.log("potts")]}),console.log(this.props.LoggedInUser.lat),console.log(this.props.LoggedInUser.lon)]}):Object(n.jsxs)("div",{className:"userText",children:[Object(n.jsx)("input",{type:"button",value:"Use Current Location",onClick:this.openMaps}),console.log("potts")]})]})]}),Object(n.jsxs)("div",{class:"columnY col-8",children:[Object(n.jsxs)("div",{style:{marginBottom:50},children:[Object(n.jsx)("input",{style:{width:1e3,marginLeft:70},placeHolder:"Search by Restaurant name",type:"text",value:this.state.search,onChange:this.updateSearch.bind(this)}),Object(n.jsxs)("div",{style:{marginLeft:70,marginRight:50},children:[Object(n.jsx)("div",{className:"col-4",children:Object(n.jsxs)("label",{children:["Filter by rating:",Object(n.jsxs)("select",{value:this.state.filter_Rating_value,onChange:this.handleRFilterChange,children:[Object(n.jsx)("option",{value:"-1",children:"All"}),Object(n.jsx)("option",{value:"5",children:"5"}),Object(n.jsx)("option",{value:"4",children:"4"}),Object(n.jsx)("option",{value:"3",children:"3"}),Object(n.jsx)("option",{value:"2",children:"2"}),Object(n.jsx)("option",{value:"1",children:"1"})]})]})}),Object(n.jsx)("div",{className:"col-4",children:Object(n.jsxs)("label",{style:{marginLeft:40},children:["Filter by Cuisine Type:",Object(n.jsxs)("select",{value:this.state.filter_Dishvalue,onChange:this.handleDFilterChange,children:[Object(n.jsx)("option",{value:"",children:"All"}),Object(n.jsx)("option",{value:"Desi",children:"Desi"}),Object(n.jsx)("option",{value:"Italian",children:"Italian"}),Object(n.jsx)("option",{value:"Western",children:"Western"}),Object(n.jsx)("option",{value:"Mexican",children:"Mexican"}),Object(n.jsx)("option",{value:"Chinese",children:"Chinese"})]})]})}),Object(n.jsx)("div",{className:"col-4",children:Object(n.jsxs)("label",{style:{marginLeft:40},children:[Object(n.jsx)("h4",{children:"Filter Using Location"}),Object(n.jsx)("h6",{children:"(press again to use other filters)"}),Object(n.jsx)(x.a,{variant:"outlined",size:"small",color:"primary",onClick:this.FilterByLocation,children:"Filter Restaurants"})]})})]})]}),a[0]?Object(n.jsx)("div",{className:"col-10 mx-auto col-md-8",children:Object(n.jsx)(w.a,{className:"cards bord shadow",children:Object(n.jsx)("div",{className:"scroll-container",children:c})})}):Object(n.jsx)("div",{style:{marginLeft:70},children:Object(n.jsx)("h1",{children:"No Result found"})})]})]})}}]),s}(a.Component),us=Object(f.g)(Object(N.connect)((function(e){return{LoggedInUser:e.loggedinUser,restaurant:e.restaurants}}),(function(e){return{GetUserDetails:function(t){console.log("Inside mapdispatchtoProps"+t.Id),e(function(e){return function(t){return console.log("THIS IS THE USER ID IM GETTING "+e),fetch(ke+"userprofile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(Be(e))})).catch((function(e){return t(Ke(e.message))}))}}(t))},fetchAllRestaurants:function(t){console.log("Inside mapdispatchtoProps Fetch all rest"+t.Id),e(Pe(t))},UploadImage:function(t,s){e(function(e,t){return function(s){return fetch(ke+"upload/user/"+t,{method:"POST",body:e}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return s(nt(e))})).catch((function(e){return s(st(e))}))}}(t,s))},SetUserLocation:function(t){e(function(e){return function(t){return fetch(ke+"UserLocation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(rt(e))})).catch((function(e){return t(at(e.message))}))}}(t))}}}))(js));Mt.a.setApiKey("AIzaSyDcL9-wKJmyHhupmtAoA3UTZNiVnq1kbi8"),Mt.a.enableDebug();var ms=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_2"===e[t].types[0])return e[t].long_name},n.getArea=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0])for(var s=0;s<e[t].types.length;s++)if("sublocality_level_1"===e[t].types[s]||"locality"===e[t].types[s])return e[t].long_name},n.getState=function(e){for(var t=0;t<e.length;t++)for(var s=0;s<e.length;s++)if(e[s].types[0]&&"administrative_area_level_1"===e[s].types[0])return e[s].long_name},n.onChange=function(e){n.setState(Object(kt.a)({},e.target.name,e.target.value))},n.onInfoWindowClose=function(e){},n.onMarkerDragEnd=function(e){var t=e.latLng.lat(),s=e.latLng.lng();Mt.a.fromLatLng(t,s).then((function(e){var a=e.results[0].formatted_address,r=e.results[0].address_components,o=n.getCity(r),c=n.getArea(r),i=n.getState(r);n.setState({address:a||"",area:c||"",city:o||"",state:i||"",markerPosition:{lat:t,lng:s},mapPosition:{lat:t,lng:s}})}),(function(e){console.error(e)}))},n.onPlaceSelected=function(e){var t=e.formatted_address,s=e.address_components,a=n.getCity(s),r=n.getArea(s),o=n.getState(s),c=e.geometry.location.lat(),i=e.geometry.location.lng();n.setState({address:t||"",area:r||"",city:a||"",state:o||"",markerPosition:{lat:c,lng:i},mapPosition:{lat:c,lng:i}})},n.state={address:"",city:"",area:"",state:"",mapPosition:{lat:n.props.center.lat,lng:n.props.center.lng},markerPosition:{lat:n.props.center.lat,lng:n.props.center.lng}},n.onclicksave=n.onclicksave.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"onclicksave",value:function(){console.log("save");var e=[{address:this.state.address,lat:this.state.markerPosition.lat,lng:this.state.markerPosition.lng}];this.props.Res_addr(e)}},{key:"componentDidMount",value:function(){var e=this;Mt.a.fromLatLng(this.state.mapPosition.lat,this.state.mapPosition.lng).then((function(t){var s=t.results[0].formatted_address,n=t.results[0].address_components,a=e.getCity(n),r=e.getArea(n),o=e.getState(n);console.log("city",a,r,o),e.setState({address:s||"",area:r||"",city:a||"",state:o||""})}),(function(e){console.error(e)}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.markerPosition.lat!==this.props.center.lat||this.state.address!==t.address||this.state.city!==t.city||this.state.area!==t.area||this.state.state!==t.state||this.props.center.lat!==e.center.lat&&void 0}},{key:"render",value:function(){var e=this,t=Object(At.withScriptjs)(Object(At.withGoogleMap)((function(t){return Object(n.jsxs)(At.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,defaultCenter:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng},children:[Object(n.jsx)(At.Marker,{google:e.props.google,name:"something",draggable:!0,onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.markerPosition.lat,lng:e.state.markerPosition.lng}}),Object(n.jsx)(At.InfoWindow,{onClose:e.onInfoWindowClose,position:{lat:e.state.markerPosition.lat+.0018,lng:e.state.markerPosition.lng},children:Object(n.jsx)("div",{children:Object(n.jsx)("span",{style:{padding:0,margin:0},children:e.state.address})})}),Object(n.jsx)(Ft.a,{style:{width:"100%",height:"40px",paddingLeft:"16px",marginTop:"2px",marginBottom:"100px"},onPlaceSelected:e.onPlaceSelected,types:["address"]})]})})));return void 0!==this.props.center.lat?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"City"}),Object(n.jsx)("input",{type:"text",name:"city",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.city})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"Area"}),Object(n.jsx)("input",{type:"text",name:"area",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.area})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"State"}),Object(n.jsx)("input",{type:"text",name:"state",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.state})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"Address"}),Object(n.jsx)("input",{type:"text",name:"address",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.address})]})]}),Object(n.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDcL9-wKJmyHhupmtAoA3UTZNiVnq1kbi8&libraries=places",loadingElement:Object(n.jsx)("div",{style:{height:"100%"}}),containerElement:Object(n.jsx)("div",{style:{height:this.props.height}}),mapElement:Object(n.jsx)("div",{style:{height:"100%"}})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(x.a,{outline:!0,onClick:this.onclicksave,children:Object(n.jsx)("span",{className:"fa fa-location-arrow",children:"save location"})})]})]}):Object(n.jsx)("div",{style:{height:this.props.height}})}}]),s}(r.a.Component),bs=Object(N.connect)(null,(function(e){return{Res_addr:function(t){e(it(t))}}}))(ms),ps=s(55),gs=function(e){return e&&e.length},Os=function(e){return function(t){return!t||t.length<=e}},xs=function(e){return function(t){return!(t>0)||t&&t.length>=e}},fs=function(e){return!isNaN(Number(e))};var vs=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={ismodalopen:!1},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.toggleModal=n.toggleModal.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"toggleModal",value:function(){this.setState({ismodalopen:!this.state.ismodalopen})}},{key:"handleSubmit",value:function(e){var t={Rest_Name:e.Rest_Name,Cuisine_Type:e.Cuisine_Type,Website:e.Website,Address:e.Address,Contact_no:e.Contact_no,lat:this.props.res.location[0].lat,lng:this.props.res.location[0].lng,Manager_ID:this.props.login.Id};console.log("Current State is: "+JSON.stringify(t)),this.props.resetform(),this.props.sendres(t)}},{key:"render",value:function(){var e=this;return Object(n.jsx)(ps,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:1e4,transitionEnter:!0,transitionEnterTimeout:1e3,transitionLeave:!0,transitionLeaveTimeout:1e3,children:Object(n.jsxs)("div",{className:"container padd1",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)(Ut.a,{className:"navr",children:[Object(n.jsx)(qt.a,{children:Object(n.jsx)(v.b,{to:"/manager",children:"Profile"})}),Object(n.jsx)(qt.a,{active:!0,children:"Add Restaurant"})]})}),Object(n.jsx)("div",{className:"row justify-content-around",children:Object(n.jsxs)("div",{className:"col-8 col-md-8 mx-auto",children:[Object(n.jsx)("div",{className:"mx-auto center ",children:Object(n.jsx)("h3",{children:Object(n.jsx)("b",{children:Object(n.jsx)("u",{children:"ADD YOUR RESTAURANT"})})})}),Object(n.jsx)("div",{className:"row row-content",children:Object(n.jsx)("div",{className:"col-12 col-md-9 centerleft1",children:Object(n.jsxs)(zt.Form,{model:"restaurant",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Rest_Name",md:4,children:Object(n.jsx)("b",{children:"Restaurant Name "})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Rest_Name",id:"Rest_Name",name:"Rest_Name",placeholder:"Restaurant Name",className:"form-control ",validators:{required:gs,minLength:xs(5),maxLength:Os(50)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Rest_Name",show:"touched",messages:{required:"Required\n",minLength:"Must be greater than 5 characters",maxLength:"must be 50 characters or less"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(L.a,{md:{size:3,offset:0},children:Object(n.jsx)(Zt.a,{children:Object(n.jsx)("b",{children:"Cuisine Type:"})})}),Object(n.jsx)(L.a,{md:{size:7,offset:1},children:Object(n.jsxs)(zt.Control.select,{model:".Cuisine_Type",name:"Cuisine_Type",className:"form-control",children:[Object(n.jsx)("option",{children:"Desi"}),Object(n.jsx)("option",{children:"Western"}),Object(n.jsx)("option",{children:"Mexican"}),Object(n.jsx)("option",{children:"Italian"}),Object(n.jsx)("option",{children:"Chinese"})]})})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Website",md:4,children:Object(n.jsx)("b",{children:"Website (If any)"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Website",id:"Website",name:"Website",placeholder:"Website",className:"form-control",validators:{required:gs,minLength:xs(3)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Website",show:"touched",messages:{minLength:"Must be greater than 3 numbers"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Contact_no",md:4,children:Object(n.jsx)("b",{children:"Contact Number"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Contact_no",id:"Contact_no",name:"Contact_no",placeholder:"Cont. Number",className:"form-control",validators:{required:gs,minLength:xs(13),maxLength:Os(20),isNumber:fs}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Contact_no",show:"touched",messages:{required:"Required\n",minLength:"Must be 13 digits",maxLength:"Must be 13 fixed"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Address",md:4,children:Object(n.jsx)("b",{children:"Address"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Address",id:"Address",name:"Address",placeholder:"Address",className:"form-control",validators:{required:gs,minLength:xs(10),maxLength:Os(50)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Address",show:"touched",messages:{required:"Required\n",minLength:"Must be 10 digits",maxLength:"Must be 50 fixed"}})]})]}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsxs)(L.a,{md:{size:8,offset:4},children:[Object(n.jsxs)(x.a,{outline:!0,onClick:this.toggleModal,children:[Object(n.jsx)("span",{className:"fa fa-location-arrow"}),"Enter Location"]}),Object(n.jsx)(D.a,{className:" tfont shadows ",isOpen:this.state.ismodalopen,toggle:this.toggleModal,children:Object(n.jsxs)(I.a,{className:" shadows",children:[Object(n.jsxs)(x.a,{outline:!0,onClick:this.toggleModal,children:[Object(n.jsx)("span",{className:"fa fa-save"})," Done"]}),Object(n.jsx)(bs,{google:this.props.google,center:{lat:this.props.location.lat,lng:this.props.location.lng},height:"300px",zoom:15,lat:this.props.location.lat,lng:this.props.location.lng})]})}),console.log("sadsad",this.props.location.lat,this.props.location.lng)]})}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsx)(L.a,{md:{size:10,offset:6},children:Object(n.jsx)(x.a,{type:"submit",color:"primary",children:Object(n.jsx)("b",{children:"Press to Add"})})})})]})})})]})})]})})}}]),s}(a.Component),Ns=Object(N.connect)((function(e){return{res:e.restaurants}}),(function(e){return{sendres:function(t){var s;e((s=t,function(e){return fetch(ke+"restaurant",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).catch((function(t){return e(lt(t.message))}))}))}}}))(vs),ys=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={location:{lat:0,lng:0}},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){var s=t.coords.latitude,n=t.coords.longitude;console.log("getCurrentPosition Success "+s+n),e.setState({location:{lat:s,lng:n}})}))}},{key:"render",value:function(){return 0===this.state.location.lat?Object(n.jsx)("div",{}):Object(n.jsxs)("div",{className:"row row-content",children:[console.log("sadasdsaadsa"+this.state.location),Object(n.jsx)(w.a,{className:"col-7 col-md-7 center mx-auto",children:Object(n.jsx)(Ns,{location:this.state.location,resetform:this.props.resetform,login:this.props.login})})]})}}]),s}(a.Component);Mt.a.setApiKey("AIzaSyDcL9-wKJmyHhupmtAoA3UTZNiVnq1kbi8"),Mt.a.enableDebug();var _s=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_2"===e[t].types[0])return e[t].long_name},n.getArea=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0])for(var s=0;s<e[t].types.length;s++)if("sublocality_level_1"===e[t].types[s]||"locality"===e[t].types[s])return e[t].long_name},n.getState=function(e){for(var t=0;t<e.length;t++)for(var s=0;s<e.length;s++)if(e[s].types[0]&&"administrative_area_level_1"===e[s].types[0])return e[s].long_name},n.onChange=function(e){n.setState(Object(kt.a)({},e.target.name,e.target.value))},n.onInfoWindowClose=function(e){},n.onMarkerDragEnd=function(e){var t=e.latLng.lat(),s=e.latLng.lng();Mt.a.fromLatLng(t,s).then((function(e){var a=e.results[0].formatted_address,r=e.results[0].address_components,o=n.getCity(r),c=n.getArea(r),i=n.getState(r);n.setState({address:a||"",area:c||"",city:o||"",state:i||"",markerPosition:{lat:t,lng:s},mapPosition:{lat:t,lng:s}})}),(function(e){console.error(e)}))},n.onPlaceSelected=function(e){var t=e.formatted_address,s=e.address_components,a=n.getCity(s),r=n.getArea(s),o=n.getState(s),c=e.geometry.location.lat(),i=e.geometry.location.lng();n.setState({address:t||"",area:r||"",city:a||"",state:o||"",markerPosition:{lat:c,lng:i},mapPosition:{lat:c,lng:i}})},n.state={address:"",city:"",area:"",state:"",mapPosition:{lat:n.props.center.lat,lng:n.props.center.lng},markerPosition:{lat:n.props.center.lat,lng:n.props.center.lng}},n}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;Mt.a.fromLatLng(this.state.mapPosition.lat,this.state.mapPosition.lng).then((function(t){var s=t.results[0].formatted_address,n=t.results[0].address_components,a=e.getCity(n),r=e.getArea(n),o=e.getState(n);console.log("city",a,r,o),e.setState({address:s||"",area:r||"",city:a||"",state:o||""})}),(function(e){console.error(e)}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.markerPosition.lat!==this.props.center.lat||this.state.address!==t.address||this.state.city!==t.city||this.state.area!==t.area||this.state.state!==t.state||this.props.center.lat!==e.center.lat&&void 0}},{key:"render",value:function(){var e=this,t=Object(At.withScriptjs)(Object(At.withGoogleMap)((function(t){return Object(n.jsxs)(At.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,defaultCenter:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng},children:[Object(n.jsx)(At.Marker,{google:e.props.google,name:"something",draggable:!1,onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.markerPosition.lat,lng:e.state.markerPosition.lng}}),Object(n.jsx)(At.InfoWindow,{onClose:e.onInfoWindowClose,position:{lat:e.state.markerPosition.lat+.0018,lng:e.state.markerPosition.lng},children:Object(n.jsx)("div",{children:Object(n.jsx)("span",{style:{padding:0,margin:0},children:e.state.address})})})]})})));return void 0!==this.props.center.lat?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"City"}),Object(n.jsx)("input",{type:"text",name:"city",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.city})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"Area"}),Object(n.jsx)("input",{type:"text",name:"area",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.area})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"State"}),Object(n.jsx)("input",{type:"text",name:"state",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.state})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"",children:"Address"}),Object(n.jsx)("input",{type:"text",name:"address",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.address})]})]}),Object(n.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDcL9-wKJmyHhupmtAoA3UTZNiVnq1kbi8&libraries=places",loadingElement:Object(n.jsx)("div",{style:{height:"100%"}}),containerElement:Object(n.jsx)("div",{style:{height:this.props.height}}),mapElement:Object(n.jsx)("div",{style:{height:"100%"}})})]}):Object(n.jsx)("div",{style:{height:this.props.height}})}}]),s}(r.a.Component),Es=Object(N.connect)(null,(function(e){return{Res_addr:function(t){e(it(t))}}}))(_s),ws=s(55),Ss=function(e){return e&&e.length};var Cs=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={ismodalopen:!1},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.toggleModal=n.toggleModal.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"toggleModal",value:function(){this.setState({ismodalopen:!this.state.ismodalopen})}},{key:"handleSubmit",value:function(e){console.log("Current State is: "+JSON.stringify(e)),this.props.resetform(),this.props.senddish(e,this.props.id),this.props.toggle()}},{key:"render",value:function(){var e=this;return Object(n.jsx)(ws,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:1e4,transitionEnter:!0,transitionEnterTimeout:1e3,transitionLeave:!0,transitionLeaveTimeout:1e3,children:Object(n.jsx)("div",{className:"container padd1",children:Object(n.jsx)("div",{className:"row justify-content-around",children:Object(n.jsxs)("div",{className:"col-11 col-md-10 mx-auto",children:[Object(n.jsx)("div",{className:"mx-auto center ",children:Object(n.jsx)("h3",{children:Object(n.jsx)("b",{children:Object(n.jsx)("u",{children:"Dish Details"})})})}),Object(n.jsx)("div",{className:"row row-content",children:Object(n.jsx)("div",{className:"col-11 col-md-10 centerleft1",children:Object(n.jsxs)(zt.Form,{model:"dish",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Dish_name",md:4,children:Object(n.jsx)("b",{children:"Dish Name "})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Dish_name",id:"Dish_name",name:"Dish_name",placeholder:"Dish Name",className:"form-control ",validators:{required:Ss}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Dish_name",show:"touched",messages:{required:"Required\n"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Price",md:4,children:Object(n.jsx)("b",{children:"Price"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Price",id:"Price",name:"Price",placeholder:"Price",className:"form-control",validators:{required:Ss}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Price",show:"touched",messages:{required:"Required\n"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Serving",md:4,children:Object(n.jsx)("b",{children:"Serving"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Serving",id:"Serving",name:"Serving",placeholder:"Serving",className:"form-control",validators:{required:Ss}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Serving",show:"touched",messages:{required:"Required\n"}})]})]}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsx)(L.a,{md:{size:10,offset:6},children:Object(n.jsx)(x.a,{type:"submit",color:"primary",children:Object(n.jsx)("b",{children:"Press to Add"})})})})]})})})]})})})})}}]),s}(a.Component),Ls=Object(N.connect)(null,(function(e){return{senddish:function(t,s){e(function(e,t){return function(s){return fetch(ke+"dishes/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(){s(xt())})).catch((function(e){return s(ft(e.message))}))}}(t,s))}}}))(Cs),Ds="http://localhost:3003/",Is=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={dish_id:null,ismodalopen:!1,ismodal1open:!1},n.toggleModal=n.toggleModal.bind(Object(j.a)(n)),n.toggleModal1=n.toggleModal1.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handledelete=n.handledelete.bind(Object(j.a)(n)),n.fileInput=r.a.createRef(),n}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s=new FormData;s.append("image",this.fileInput.current.files[0]),this.fileInput.current.files[0]?(this.props.imguplD(s,this.state.dish_id),setTimeout((function(){t.props.fetchDishes(t.props.id)}),500),this.setState({ismodal1open:!this.state.ismodal1open})):alert("please upload photo")}},{key:"toggleModal",value:function(){var e=this;this.setState({ismodalopen:!this.state.ismodalopen}),setTimeout((function(){e.props.fetchDishes(e.props.id)}),300)}},{key:"toggleModal1",value:function(e){this.setState({ismodal1open:!this.state.ismodal1open,dish_id:e})}},{key:"handledelete",value:function(e){var t=this;this.props.del_dis(e),setTimeout((function(){t.props.fetchDishes(t.props.id)}),500)}},{key:"componentDidMount",value:function(){this.props.fetchRestaurant(this.props.login.Id),this.props.fetchDishes(this.props.id),this.props.fetchReviews(this.props.id)}},{key:"render",value:function(){var e=this,t=this.props.restaurant.restaurants.filter((function(t){return t.Restaurant_ID===parseInt(e.props.id,10)}))[0];console.log(this.props.dish);var s=this.props.dish.dishes.map((function(t){return Object(n.jsx)("div",{label:t.Dish_name,children:Object(n.jsxs)(w.a,{className:"cards bord shadow",body:!0,style:{borderColor:"#0000"},children:[Object(n.jsxs)("div",{className:"block1   center mx-auto",children:[null===t.img_src?Object(n.jsx)(S.a,{className:"cut1",width:"100%",src:Ds+"images/noimage.png",alt:t.Dish_name}):Object(n.jsx)(S.a,{className:"cut1",width:"100%",src:Ds+t.img_src,alt:t.Dish_name}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsxs)(L.a,{md:{size:12,offset:0},children:[Object(n.jsx)(x.a,{outline:!0,onClick:function(){return e.toggleModal1(t.Dish_ID)},children:Object(n.jsx)("span",{className:"fa fa-image font-weight-bold",children:"Upload image"})}),Object(n.jsx)(D.a,{className:" tfont shadows ",isOpen:e.state.ismodal1open,toggle:e.toggleModal1,children:Object(n.jsxs)(I.a,{className:" shadows",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsxs)("label",{children:["Upload file:",Object(n.jsx)("input",{type:"file",ref:e.fileInput})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",children:"Submit"})]})}),Object(n.jsxs)(x.a,{outline:!0,onClick:e.toggleModal1,children:[Object(n.jsx)("span",{className:"fa fa-backward"}),"Back"]})]})})]})})]}),Object(n.jsx)(R.a,{className:"center",children:Object(n.jsx)(k.a,{children:Object(n.jsx)("h3",{className:"tfont",children:Object(n.jsx)("b",{children:t.Dish_name})})})}),Object(n.jsxs)(A.a,{className:"card-body",children:[Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Price: Rs."})," ",t.Price]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Serving: "}),t.Serving]})]}),Object(n.jsxs)("div",{className:"ml-auto",children:[Object(n.jsx)(v.b,{to:"/dish/".concat(t.Dish_ID),children:Object(n.jsx)("button",{className:"colo font-weight-bold",children:"Edit Details"})}),Object(n.jsx)(x.a,{outline:!0,onClick:function(){return e.handledelete(t.Dish_ID)},children:Object(n.jsx)("span",{className:"fa fa-trash-o font-weight-bold",children:"Delete Dish"})})]})]})},t.Dish_ID)})),a=this.props.review.review.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsxs)(w.a,{className:"cards bord shadow",body:!0,style:{borderColor:"#0000"},children:[Object(n.jsx)(R.a,{className:"center",children:Object(n.jsx)(k.a,{children:Object(n.jsx)("h3",{className:"tfont",children:Object(n.jsx)("b",{children:e.User_name})})})}),Object(n.jsxs)(A.a,{className:"card-body",children:[Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Rating: "})," ",e.Rate]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Comment: "}),e.Comment]})]})]})},e.User_name)}));return this.props.restaurant.isLoading?Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"loading"})}):Object(n.jsxs)("div",{className:" row row-content",children:[Object(n.jsx)("div",{className:"col-3 col col-md-3 ",children:Object(n.jsx)("div",{label:t.Rest_Name,children:Object(n.jsxs)(w.a,{className:"cards bord shadow",body:!0,style:{borderColor:"#0000"},children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)(Ut.a,{className:"navr",children:[Object(n.jsx)(qt.a,{children:Object(n.jsx)(v.b,{to:"/manager",children:"Profile"})}),Object(n.jsx)(qt.a,{active:!0,children:t.Rest_Name})]})}),Object(n.jsx)("div",{className:"block1  center  mx-auto",children:null===t.img_src?Object(n.jsx)(S.a,{className:"cut",width:"100%",src:Ds+"images/default.jpg",alt:t.Rest_Name}):Object(n.jsx)(S.a,{className:"cut",width:"100%",src:Ds+t.img_src,alt:t.Rest_Name})}),Object(n.jsx)(R.a,{className:"center",children:Object(n.jsx)(k.a,{children:Object(n.jsx)("h3",{className:"tfont",children:Object(n.jsx)("b",{children:t.Rest_Name})})})}),Object(n.jsxs)(A.a,{className:"card-body",children:[Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Cuisine: "})," ",t.Cuisine_Type]}),t.Rating?Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Rating: "}),t.Rating]}):Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Rating: "}),"No Ratings"]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Contact_no: "}),t.Contact_no]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{children:"Website: "}),Object(n.jsx)("a",{href:"https://"+t.Website,target:"_blank",children:t.Website})]}),null===t.Latitude?Object(n.jsx)("div",{className:" border center",children:Object(n.jsx)(T.a,{children:"location not added"})}):Object(n.jsx)(Es,{google:e.props.google,center:{lat:t.Latitude,lng:t.Longitude},height:"300px",zoom:15,lat:t.Latitude,lng:t.Longitude})]})]})},t.Restaurant_ID)}),Object(n.jsx)("div",{className:"col-5 col col-md-5 ",children:Object(n.jsxs)(w.a,{className:"colo2",children:[Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsxs)(L.a,{md:{size:12,offset:0},children:[Object(n.jsxs)(x.a,{outline:!0,onClick:function(){return e.toggleModal(t.Restaurant_ID)},className:"colo3",children:[" ",Object(n.jsx)("span",{className:"fa fa-delicious colo3",children:"Add Dish"})]}),Object(n.jsx)(D.a,{className:" tfont shadows ",isOpen:this.state.ismodalopen,toggle:this.toggleModal,children:Object(n.jsxs)(I.a,{className:" shadows",children:[Object(n.jsx)(Ls,{resetform:this.props.resetform,toggle:function(){return e.toggleModal()},id:t.Restaurant_ID}),Object(n.jsxs)(x.a,{outline:!0,onClick:this.toggleModal,children:[Object(n.jsx)("span",{className:"fa fa-backward"}),"Back"]})]})})]})}),Object(n.jsx)("div",{className:"divis",children:0===this.props.dish.dishes.length?Object(n.jsx)(w.a,{children:Object(n.jsx)("div",{className:"cards bord",label:"None Registered",children:Object(n.jsx)("h1",{children:"Looks a little empty why dont you add some dishes"})})}):Object(n.jsx)(n.Fragment,{children:s})})]})}),0===this.props.review.review.length?Object(n.jsx)("div",{className:"col-4 col col-md-4 divis",children:Object(n.jsx)(w.a,{className:"colo2 ",children:Object(n.jsx)(w.a,{children:Object(n.jsx)("div",{className:"cards bord",label:"None Registered",children:Object(n.jsx)("h3",{children:"no reviews yet"})})})})}):Object(n.jsx)("div",{className:"col-4 col col-md-4 divis",children:Object(n.jsx)(w.a,{className:"colo2 ",children:a})})]})}}]),s}(a.Component),Rs=Object(f.g)(Object(N.connect)((function(e){return{review:e.review,restaurant:e.restaurants,dish:e.dishes}}),(function(e){return{fetchRestaurant:function(t){e(qe(t))},fetchDishes:function(t){var s;e((s=t,function(e){return e(pt(!0)),fetch(ke+"dishes/"+s).then((function(e){if(e.ok)return console.log("response ok",e),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){console.log("data",t),e(Ot(t))})).catch((function(t){return e(gt(t.message))}))}))},fetchReviews:function(t){var s;e((s=t,function(e){return e(yt(!0)),fetch(ke+"review/"+s).then((function(e){if(e.ok)return console.log("response ok",e),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){console.log("data",t),e(_t(t))})).catch((function(t){return e(Ve(t.message))}))}))},imguplD:function(t,s){e(function(e,t){return function(s){return fetch(ke+"upload/dish/"+t,{method:"POST",body:e}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return s(ht(e))})).catch((function(e){return s(dt(e))}))}}(t,s))},del_dis:function(t){e(function(e){return function(t){return fetch(ke+"dishes/"+e,{method:"DELETE"}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return t(vt())})).catch((function(e){return t(Nt(e))}))}}(t))}}}))(Is)),ks=s(55),As=function(e){return function(t){return!t||t.length<=e}},Ts=function(e){return function(t){return!(t>0)||t&&t.length>=e}},Ms=function(e){return!isNaN(Number(e))};var Ps=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={location:{lat:0,lng:0},ismodalopen:!1,updated:!1},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.toggleModal=n.toggleModal.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"toggleModal",value:function(){this.setState({ismodalopen:!this.state.ismodalopen})}},{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){var s=t.coords.latitude,n=t.coords.longitude;console.log("getCurrentPosition Success "+s+n),e.setState({location:{lat:s,lng:n}})}))}},{key:"handleSubmit",value:function(e){var t=this,s=this.props.res.restaurants.filter((function(e){return e.Restaurant_ID===parseInt(t.props.id,10)}))[0],n={Rest_Name:e.Rest_Name?e.Rest_Name:s.Rest_Name,Cuisine_Type:e.Cuisine_Type?e.Cuisine_Type:s.Cuisine_Type,Website:e.Website?e.Website:s.Website,Address:e.Address?e.Address:s.Address,Contact_no:e.Contact_no?e.Contact_no:s.Contact_no,lat:this.props.res.location[0].lat,lng:this.props.res.location[0].lng,Manager_ID:this.props.login.Id};console.log("Current State is: "+JSON.stringify(n)),this.props.upd_res(n,s.Restaurant_ID),setTimeout((function(){t.props.resetform(),t.setState({updated:!0})}),500)}},{key:"render",value:function(){var e=this,t=this.props.res.restaurants.filter((function(t){return t.Restaurant_ID===parseInt(e.props.id,10)}))[0];return this.state.updated?Object(n.jsx)(f.a,{to:"/manager"}):Object(n.jsx)(w.a,{className:"col-7 col-md-7 center mx-auto",children:Object(n.jsx)(ks,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:1e4,transitionEnter:!0,transitionEnterTimeout:1e3,transitionLeave:!0,transitionLeaveTimeout:1e3,children:Object(n.jsxs)("div",{className:"container padd1",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)(Ut.a,{className:"navr",children:[Object(n.jsx)(qt.a,{children:Object(n.jsx)(v.b,{to:"/manager",children:"Profile"})}),Object(n.jsx)(qt.a,{active:!0,children:"Update restaurant"})]})}),Object(n.jsx)("div",{className:"row justify-content-around",children:Object(n.jsx)("div",{className:"col-8 col-md-8 mx-auto",children:Object(n.jsx)("div",{className:"row row-content",children:Object(n.jsx)("div",{className:"col-12 col-md-9 centerleft1",children:Object(n.jsxs)(zt.Form,{model:"restaurant",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Rest_Name",md:4,children:Object(n.jsx)("b",{children:"Restaurant Name "})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Rest_Name",id:"Rest_Name",name:"Rest_Name",placeholder:t.Rest_Name,className:"form-control ",validators:{minLength:Ts(5),maxLength:As(50)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Rest_Name",show:"touched",messages:{minLength:"Must be greater than 5 characters",maxLength:"must be 50 characters or less"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(L.a,{md:{size:3,offset:0},children:Object(n.jsx)(Zt.a,{children:Object(n.jsx)("b",{children:"Cuisine Type:"})})}),Object(n.jsx)(L.a,{md:{size:7,offset:1},children:Object(n.jsxs)(zt.Control.select,{model:".Cuisine_Type",name:"Cuisine_Type",className:"form-control",children:[Object(n.jsx)("option",{value:"selected",children:t.Cuisine_Type}),Object(n.jsx)("option",{children:"Desi"}),Object(n.jsx)("option",{children:"Western"}),Object(n.jsx)("option",{children:"Mexican"}),Object(n.jsx)("option",{children:"Italian"}),Object(n.jsx)("option",{children:"Chinese"})]})})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Website",md:4,children:Object(n.jsx)("b",{children:"Website (If any)"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Website",id:"Website",name:"Website",placeholder:t.Website,className:"form-control",validators:{minLength:Ts(3)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Website",show:"touched",messages:{minLength:"Must be greater than 3 numbers"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Contact_no",md:4,children:Object(n.jsx)("b",{children:"Contact Number"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Contact_no",id:"Contact_no",name:"Contact_no",placeholder:t.Contact_no,className:"form-control",validators:{minLength:Ts(13),maxLength:As(20),isNumber:Ms}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Contact_no",show:"touched",messages:{minLength:"Must be 13 digits",maxLength:"Must be 13 fixed"}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Address",md:4,children:Object(n.jsx)("b",{children:"Address"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Address",id:"Address",name:"Address",placeholder:t.Address,className:"form-control",validators:{minLength:Ts(10),maxLength:As(50)}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Address",show:"touched",messages:{minLength:"Must be 10 digits",maxLength:"Must be 50 fixed"}})]})]}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsxs)(L.a,{md:{size:8,offset:4},children:[Object(n.jsxs)(x.a,{outline:!0,onClick:this.toggleModal,children:[Object(n.jsx)("span",{className:"fa fa-location-arrow"}),"Enter Location"]}),Object(n.jsx)(D.a,{className:" tfont shadows ",isOpen:this.state.ismodalopen,toggle:this.toggleModal,children:Object(n.jsxs)(I.a,{className:" shadows",children:[Object(n.jsxs)(x.a,{outline:!0,onClick:this.toggleModal,children:[Object(n.jsx)("span",{className:"fa fa-save"})," Done"]}),Object(n.jsx)(bs,{google:this.props.google,center:{lat:this.props.res.location[0].lat?this.props.res.location[0].lat:this.state.location.lat,lng:this.props.res.location[0].lng?this.props.res.location[0].lng:this.state.location.lng},height:"300px",zoom:15,lat:this.props.res.location[0].lat?this.props.res.location[0].lat:this.state.location.lat,lng:this.props.res.location[0].lng?this.props.res.location[0].lng:this.state.location.lng})]})})]})}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsx)(L.a,{md:{size:10,offset:6},children:Object(n.jsx)(x.a,{type:"submit",color:"primary",children:Object(n.jsx)("b",{children:"Update"})})})})]})})})})})]})})})}}]),s}(a.Component),Fs=Object(N.connect)((function(e){return{res:e.restaurants}}),(function(e){return{upd_res:function(t,s){e(function(e,t){return function(s){return console.log(e),fetch(ke+"restaurant/"+t,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return s(mt())})).catch((function(e){return s(bt(e))}))}}(t,s))}}}))(Ps),Us=s(55);var qs=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={ismodalopen:!1,updated:!1},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){var t=this,s=this.props.dish.dishes.filter((function(e){return e.Dish_ID===parseInt(t.props.id,10)}))[0],n={Dish_name:e.Dish_name?e.Dish_name:s.Dish_name,Price:e.Price?e.Price:s.Price,Serving:e.Serving?e.Serving:s.Serving};console.log("Current State is: "+JSON.stringify(n)),this.props.upd_dis(n,this.props.id),setTimeout((function(){t.props.resetform(),t.setState({updated:!0})}),500)}},{key:"render",value:function(){var e=this,t=this.props.dish.dishes.filter((function(t){return t.Dish_ID==parseInt(e.props.id,10)}))[0];return console.log(t),this.state.updated?Object(n.jsx)(f.a,{to:"/manager/".concat(t.Restaurant_ID)}):Object(n.jsx)(Us,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:1e4,transitionEnter:!0,transitionEnterTimeout:1e3,transitionLeave:!0,transitionLeaveTimeout:1e3,children:Object(n.jsx)("div",{className:"container padd1",children:Object(n.jsx)("div",{className:"row justify-content-around",children:Object(n.jsx)("div",{className:"col-8 col-md-7 mx-auto",children:Object(n.jsxs)(w.a,{className:"cards bord ",children:[Object(n.jsx)("div",{className:"mx-auto center ",children:Object(n.jsx)("h3",{children:Object(n.jsx)("b",{children:Object(n.jsx)("u",{children:"Dish Details"})})})}),Object(n.jsx)("div",{className:"row row-content",children:Object(n.jsx)("div",{className:"col-11 col-md-10 centerleft1",children:Object(n.jsxs)(zt.Form,{model:"dish",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Dish_name",md:4,children:Object(n.jsx)("b",{children:"Dish Name "})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Dish_name",id:"Dish_name",name:"Dish_name",placeholder:t.Dish_name,className:"form-control ",validators:{}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Dish_name",show:"touched",messages:{}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Price",md:4,children:Object(n.jsx)("b",{children:"Price"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Price",id:"Price",name:"Price",placeholder:t.Price,className:"form-control",validators:{}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Price",show:"touched",messages:{}})]})]}),Object(n.jsxs)(C.a,{className:"form-group",children:[Object(n.jsx)(Zt.a,{htmlFor:"Serving",md:4,children:Object(n.jsx)("b",{children:"Serving"})}),Object(n.jsxs)(L.a,{md:8,children:[Object(n.jsx)(zt.Control.text,{model:".Serving",id:"Serving",name:"Serving",placeholder:t.Serving,className:"form-control",validators:{}}),Object(n.jsx)(zt.Errors,{className:"text-danger",model:".Serving",show:"touched",messages:{}})]})]}),Object(n.jsx)(C.a,{className:"form-group",children:Object(n.jsx)(L.a,{md:{size:5,offset:6},children:Object(n.jsx)(x.a,{type:"submit",color:"primary",children:Object(n.jsx)("b",{children:"Press to Add"})})})})]})})})]})})})})})}}]),s}(a.Component),Ws=Object(N.connect)((function(e){return{dish:e.dishes}}),(function(e){return{upd_dis:function(t,s){e(function(e,t){return function(s){return console.log(e),fetch(ke+"dishes/"+t,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return s(mt())})).catch((function(e){return s(bt(e))}))}}(t,s))}}}))(qs),Hs="http://localhost:3003/",Gs=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={rating:"",comment:"",Restaurant_ID:n.props.resID,User_ID:n.props.UserID},n.onSubmit=n.onSubmit.bind(Object(j.a)(n)),n.handleRchange=n.handleRchange.bind(Object(j.a)(n)),n.handleVchange=n.handleVchange.bind(Object(j.a)(n)),n}return Object(l.a)(s,[{key:"onSubmit",value:function(e){var t=this;this.props.Send_Review(this.state),setTimeout((function(){t.props.fetchreviews(t.state),t.props.fetchAllRestaurants(t.state)}),500),e.preventDefault()}},{key:"componentDidMount",value:function(){var e=this;console.log("BEFORE DISPATCH XXXXXXXXXXXXXXX"+this.state.Id),setTimeout((function(){e.props.checkrev(e.state)}),200),this.props.fetchAllRestaurants(this.state),this.props.fetchreviews(this.state),this.props.fetchdishes(this.state)}},{key:"handleRchange",value:function(e){(""===e.target.value||/^[0-5\b]+$/.test(e.target.value))&&this.setState({rating:e.target.value})}},{key:"handleVchange",value:function(e){this.setState({comment:e.target.value})}},{key:"render",value:function(){var e,t,s,a,r,o,c=this;console.log("STORE HORAHI HAI "+this.state.Restaurant_ID+"  "+this.state.User_ID);var i=(e=this.props.restaurant.restaurants,Object(ds.a)(e),e),l=(t=this.props.review.review,Object(ds.a)(t),t),d=(s=this.props.dishes.dishes,Object(ds.a)(s),s),h=(a=i.filter((function(e){if(e.Restaurant_ID==c.state.Restaurant_ID)return e})),Object(ds.a)(a),a),j=(r=l.filter((function(e){if(e.Restaurant_ID==c.state.Restaurant_ID)return e.Comment})),Object(ds.a)(r),r),u=(o=d.filter((function(e){if(e.Restaurant_ID==c.state.Restaurant_ID)return e.img_src})),Object(ds.a)(o),o),m=h.map((function(e){return Object(n.jsxs)(w.a,{className:"cards bord row ",body:!0,style:{borderColor:"#0000"},children:[console.log("inside abs resonclick  "+e.Rest_Name),Object(n.jsxs)(A.a,{children:[Object(n.jsx)("img",{className:"cut",src:Hs+e.img_src}),Object(n.jsx)(k.a,{children:Object(n.jsxs)("h1",{className:"tfont ",children:[Object(n.jsx)("b",{children:"Restaurant Name: "}),e.Rest_Name]})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:" col-12 col-md-6",children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{className:"colort",children:".. Restaurant Email:  "}),e.Website]})}),Object(n.jsx)("div",{className:" col-12 col-md-6",children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{className:"colort",children:". Rating:   "}),e.Rating]})}),Object(n.jsx)("div",{className:" col-12 col-md-6",children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)("b",{className:"colort",children:". Contact Number:   "}),e.Contact_no]})})]})]})]})})),b=j.map((function(e){return Object(n.jsx)("div",{style:{backgroundColor:"red"},children:Object(n.jsx)(w.a,{className:"cards shadows row reviewfont",body:!0,style:{borderColor:"#0000"},children:Object(n.jsx)(A.a,{children:Object(n.jsxs)("li",{children:[Object(n.jsxs)("p",{children:["Review by Mr/Miss. ",Object(n.jsx)("u",{children:e.first_name+" "+e.Last_name}),":"]}),Object(n.jsx)("b",{children:e.Comment})]})})})})})),p=u.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(w.a,{className:"cards bord",body:!0,style:{borderColor:"#0000"},children:Object(n.jsx)(A.a,{children:Object(n.jsx)("li",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"cut",src:Hs+e.img_src}),Object(n.jsxs)("h5",{children:[" ",Object(n.jsx)("b",{children:"Dish Name: "}),e.Dish_Name]}),Object(n.jsxs)("h5",{children:[" ",Object(n.jsx)("b",{children:"Price: "}),e.Price]}),Object(n.jsxs)("h5",{children:[" ",Object(n.jsx)("b",{children:"Serving: "}),e.Serving]})]})})})})})}));return Object(n.jsxs)("div",{class:"row",children:[Object(n.jsxs)("div",{class:"columnX1",children:[m,this.props.review.insert?Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:" already Reviewed"})}):Object(n.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(n.jsx)("input",{className:"xx",type:"text",placeholder:"Enter Rating",value:this.state.rating,onChange:this.handleRchange}),Object(n.jsx)("input",{className:"xx",type:"text",placeholder:"Enter Your Comment",value:this.state.comment,onChange:this.handleVchange}),Object(n.jsx)("button",{type:"submit",children:"Submit Review "})]})]}),Object(n.jsxs)("div",{class:"columnX2",children:[Object(n.jsx)(Zt.a,{children:Object(n.jsx)("b",{children:"Customer Reviews:"})}),Object(n.jsx)("div",{children:Object(n.jsx)(w.a,{className:"cards bord con",body:!0,style:{borderColor:"#0000"},children:Object(n.jsx)(A.a,{children:b})})})]}),Object(n.jsxs)("div",{class:"columnX3",children:[Object(n.jsx)(Zt.a,{children:Object(n.jsx)("b",{children:"DISHES:"})}),Object(n.jsx)("div",{children:Object(n.jsx)(w.a,{className:"cards bord con",body:!0,style:{borderColor:"#0000"},children:Object(n.jsx)(A.a,{children:p?Object(n.jsx)(n.Fragment,{children:p}):Object(n.jsx)("h1",{children:"this restaurant has no dishes"})})})})]})]})}}]),s}(a.Component),zs=Object(f.g)(Object(N.connect)((function(e){return{LoggedInUser:e.loggedinUser,restaurant:e.restaurants,review:e.review,dishes:e.dishes}}),(function(e){return{fetchAllRestaurants:function(t){console.log("Inside mapdispatchtoProps Fetch all rest"+t.Id),e(Pe(t))},Send_Review:function(t){console.log("review sent"+t.Id),e(function(e){return function(t){return fetch(ke+"reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(){t(Je(!0))})).catch((function(e){return t(Ve(e.message))}))}}(t))},fetchreviews:function(t){console.log("Inside mapdispatchtoProps Fetch all reviwes"+t.Id),e(function(e){return function(t){return console.log("reviews that im fetching"+e),fetch(ke+"FetchedReviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t($e(e))})).catch((function(e){return t(Qe(e.message))}))}}(t))},fetchdishes:function(t){console.log("Inside mapdispatchtoProps Fetch all dishes"+t.Id),e(function(e){return function(t){return console.log("dishes that im fetching"+e),fetch(ke+"FetchedDishes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(et(e))})).catch((function(e){return t(tt(e.message))}))}}(t))},checkrev:function(t){var s;e((s=t,function(e){return console.log(s),fetch(ke+"reviews/check",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)}).then((function(e){if(e.ok)return console.log("response ok"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw console.log("Error "+e.status+": "+e.statusText),t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(Et(t))})).catch((function(t){return e(wt(t))}))}))}}}))(Gs)),Xs=s(55),Js=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.props.reset()}},{key:"render",value:function(){var e=this;return console.log(this.props.login),Object(n.jsxs)("div",{children:[Object(n.jsx)(_,{logout:this.props.logout,login:this.props.login}),Object(n.jsx)(Xs,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:1e4,transitionEnter:!0,transitionEnterTimeout:1e3,transitionLeave:!0,transitionLeaveTimeout:1e3,children:Object(n.jsxs)(f.d,{location:this.props.location,children:[Object(n.jsx)(f.b,{exact:!0,path:"/login",component:function(){return Object(n.jsx)(Vt,{login:e.props.login})}}),Object(n.jsx)(f.b,{exact:!0,path:"/register",component:function(){return Object(n.jsx)(ts,{resetregisterform:e.props.resetregisterform,insert:e.props.register.minsert,email:e.props.register.memail,sent:e.props.register.sent})}}),Object(n.jsx)(f.b,{exact:!0,path:"/uregister",component:function(){return Object(n.jsx)(ls,{resetuserform:e.props.resetuserform,insert:e.props.register.uinsert,email:e.props.register.uemail,sent:e.props.register.sent})}}),this.props.login.loggedIn?Object(n.jsx)(n.Fragment,{children:"Manager"===this.props.login.user?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.b,{exact:!0,path:"/manager",component:function(){return Object(n.jsx)(Rt,{login:e.props.login})}}),Object(n.jsx)(f.b,{path:"/addres",component:function(){return Object(n.jsx)(ys,{login:e.props.login,resetform:e.props.resetrestaurantform})}}),Object(n.jsx)(f.b,{path:"/manager/:resid",component:function(t){var s=t.match;return console.log(s.params.resid),Object(n.jsx)(Rs,{id:s.params.resid,login:e.props.login,resetform:e.props.resetdishform})}}),Object(n.jsx)(f.b,{path:"/update/:resid",component:function(t){var s=t.match;return console.log(s.params.resid),Object(n.jsx)(Fs,{id:s.params.resid,login:e.props.login,resetform:e.props.resetrestaurantform})}}),Object(n.jsx)(f.b,{path:"/dish/:resid",component:function(t){var s=t.match;return console.log(s.params.resid),Object(n.jsx)(Ws,{id:s.params.resid,login:e.props.login,resetform:e.props.resetdishform})}})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.b,{exact:!0,path:"/user",component:function(){return Object(n.jsx)(us,{login:e.props.login})}}),Object(n.jsx)(f.b,{path:"/getlocation",component:function(){return Object(n.jsx)(Gt,{})}}),Object(n.jsx)(f.b,{path:"/user/:resID",component:function(t){var s=t.match;return console.log(s.params.resID),Object(n.jsx)("div",{children:Object(n.jsx)(zs,{resID:s.params.resID,UserID:e.props.login.Id})})}})]})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f.a,{to:"/login"})}),Object(n.jsx)(f.a,{to:"/login"})]})}),Object(n.jsx)(E,{})]})}}]),s}(a.Component),Vs=Object(f.g)(Object(N.connect)((function(e){return{register:e.registeration,login:e.login}}),(function(e){return{resetregisterform:function(){e(zt.actions.reset("register"))},resetuserform:function(){e(zt.actions.reset("userregister"))},resetrestaurantform:function(){e(zt.actions.reset("restaurant"))},resetdishform:function(){e(zt.actions.reset("dish"))},logout:function(){e({type:se})},reset:function(){e(St())}}}))(Js)),Zs=(s(487),s(4)),Ys=s(41),Bs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,insert:!0,managers:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!1,errMess:null,managers:t.payload});case M:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:null,managers:[]});case F:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:t.payload,managers:[]});default:return e}},Ks=[{address:null,lat:null,lng:null}],$s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,location:[{address:null,lat:null,lng:null}],restaurants:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(Zs.a)(Object(Zs.a)({},e),{},{errMess:null,restaurants:t.payload});case Q:return Object(Zs.a)(Object(Zs.a)({},e),{},{errMess:t.payload,restaurants:[]});case H:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!1,errMess:null,location:Ks,restaurants:t.payload});case W:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:null,location:Ks,restaurants:[]});case z:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:t.payload,location:Ks,restaurants:[]});case G:return Object(Zs.a)(Object(Zs.a)({},e),{},{errMess:t.payload,location:Ks});case X:return Object(Zs.a)(Object(Zs.a)({},e),{},{location:t.payload});case J:case V:case Z:case Y:case K:case B:default:return e}},Qs={loggedIn:!1,user:null,Id:null,error:!1},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return console.log("YE PAYLOAD IN REDUCER "+t.payload.ErrorMessage),t.payload.ErrorMessage?Object(Zs.a)(Object(Zs.a)({},e),{},{loggedIn:!1,user:t.payload.user,Id:t.payload.ID,error:t.payload.ErrorMessage}):Object(Zs.a)(Object(Zs.a)({},e),{},{loggedIn:!0,user:t.payload.user,Id:t.payload.ID,error:t.payload.ErrorMessage});case te:return Object(Zs.a)(Object(Zs.a)({},e),{},{loggedIn:!1,user:null,Id:null,error:t.payload.errmess});case se:return Object(Zs.a)(Object(Zs.a)({},e),{},{loggedIn:!1,user:null,Id:null,error:!1});default:return e}},tn=s(225),sn=s(226),nn=s(227),an=s.n(nn),rn={FName:null,LName:null,imgsrc:null,Address:null,errMess:null,lat:null,lon:null,currAddress:null},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(Zs.a)(Object(Zs.a)({},e),{},{FName:t.payload.FirstName,LName:t.payload.LastName,imgsrc:t.payload.imgsrc,Address:t.payload.address});case oe:return Object(Zs.a)(Object(Zs.a)({},e),{},{FName:null,LName:null,imgsrc:null,Address:null,errMess:t.payload.errMess});case ce:return Object(Zs.a)(Object(Zs.a)({},e),{},{currAddress:t.payload.address,lat:t.payload.mapPosition.lat,lon:t.payload.mapPosition.lng});case Le:return e;case Ce:return Object(Zs.a)(Object(Zs.a)({},e),{},{errMess:t.payload});case Ie:case De:default:return e}},cn={User_Name:"",Manager_Name:"",Manager_Email:"",Password:""},ln={first_name:"",Last_name:"",Phone_num:"",Email:"",Password:"",User_Name:"",Home_address:"",Gender:"M"},dn={Rest_Name:"",Website:"",Contact_no:"",Address:"",Cuisine_Type:""},hn={Dish_name:"",Price:"",Serving:""},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{minsert:!0,memail:!0,uemail:!0,sent:!1,uinsert:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(Zs.a)(Object(Zs.a)({},e),{},{minsert:t.payload.Insert,memail:t.payload.email,sent:t.payload.sent});case q:return e;case ne:return Object(Zs.a)(Object(Zs.a)({},e),{},{uinsert:t.payload.Insert,uemail:t.payload.email,sent:t.payload.sent});case ae:return e;case Re:return Object(Zs.a)(Object(Zs.a)({},e),{},{uinsert:!0,uemail:!0,sent:!1,memail:!0,minsert:!0});default:return e}},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,insert:!0,dishes:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!1,errMess:null,dishes:t.payload});case le:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:null,dishes:[]});case de:case je:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:t.payload,dishes:[]});case he:case ue:return e;case me:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:t.payload,dishes:[]});case be:return e;case pe:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:t.payload,dishes:[]});case Oe:return e;case ge:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:t.payload,dishes:[]});case we:return Object(Zs.a)(Object(Zs.a)({},e),{},{errMess:null,dishes:t.payload});case Se:return Object(Zs.a)(Object(Zs.a)({},e),{},{errMess:t.payload,dishes:[]});default:return e}},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,insert:!1,review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!1,errMess:null,review:t.payload});case fe:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:null,review:[]});case ve:return Object(Zs.a)(Object(Zs.a)({},e),{},{isLoading:!0,errMess:t.payload,review:[]});case ye:return Object(Zs.a)(Object(Zs.a)({},e),{},{insert:t.payload});case Ne:return Object(Zs.a)(Object(Zs.a)({},e),{},{insert:!0});case _e:return Object(Zs.a)(Object(Zs.a)({},e),{},{errMess:null,review:t.payload});case Ee:return Object(Zs.a)(Object(Zs.a)({},e),{},{errMess:t.payload,review:[]});default:return e}},bn=Object(Ys.createStore)(Object(Ys.combineReducers)(Object(Zs.a)({managers:Bs,restaurants:$s,login:en,loggedinUser:on,registeration:jn,dishes:un,review:mn},Object(zt.createForms)({register:cn,userregister:ln,restaurant:dn,dish:hn}))),Object(tn.composeWithDevTools)(Object(Ys.applyMiddleware)(sn.a,an.a)));var pn=function(){return Object(n.jsx)(N.Provider,{store:bn,children:Object(n.jsx)(v.a,{children:Object(n.jsx)("div",{children:Object(n.jsx)(Vs,{})})})})},gn=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,511)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;s(e),n(e),a(e),r(e),o(e)}))};s(488),s(489);c.a.render(Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(pn,{})}),document.getElementById("root")),gn()}},[[490,1,2]]]);
//# sourceMappingURL=main.1964185b.chunk.js.map